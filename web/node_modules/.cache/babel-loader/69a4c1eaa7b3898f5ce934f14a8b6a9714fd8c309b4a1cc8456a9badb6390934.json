{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PCUSER\\\\VScode-project\\\\CHAP\\\\web\\\\src\\\\pages\\\\Home.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Box, Card, CardContent, Typography, Chip, IconButton, Menu, MenuItem, ListItemIcon, ListItemText, Fab, CircularProgress, Alert } from '@mui/material';\nimport { Sort, LocationOn, AccessTime, Favorite, Comment, MoreVert, Add } from '@mui/icons-material';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { setPosts, setSortBy, setFilter } from '../store/slices/postsSlice';\nimport { setCurrentLocation } from '../store/slices/locationSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n/**\r\n * ホーム画面（タイムライン）コンポーネント\r\n * 現在地周辺の投稿を表示し、ソート・フィルター機能を提供\r\n */\nconst Home = () => {\n  _s();\n  // ソートメニューのアンカー要素（メニューの表示位置を制御）\n  const [sortAnchorEl, setSortAnchorEl] = useState(null);\n  // フィルターメニューのアンカー要素\n  const [filterAnchorEl, setFilterAnchorEl] = useState(null);\n\n  // Reduxのディスパッチ関数\n  const dispatch = useDispatch();\n  // ページ遷移用のナビゲート関数\n  const navigate = useNavigate();\n\n  // Reduxストアから投稿関連の状態を取得\n  const {\n    posts,\n    isLoading,\n    error,\n    sortBy,\n    filter\n  } = useSelector(state => state.posts);\n  // 現在の位置情報を取得\n  const {\n    currentLocation\n  } = useSelector(state => state.location);\n\n  /**\r\n   * コンポーネントマウント時に位置情報を取得し、投稿をフェッチ\r\n   */\n  useEffect(() => {\n    // ブラウザが位置情報APIをサポートしているかチェック\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n      // 位置情報取得成功時のコールバック\n      position => {\n        const {\n          latitude,\n          longitude\n        } = position.coords;\n        // Reduxストアに現在位置を保存\n        dispatch(setCurrentLocation({\n          latitude,\n          longitude\n        }));\n        // 取得した位置情報で投稿をフェッチ\n        fetchPosts(latitude, longitude);\n      },\n      // 位置情報取得失敗時のコールバック\n      error => {\n        console.error('位置情報の取得に失敗しました:', error);\n        // デフォルト位置（東京）で投稿を取得\n        fetchPosts(35.6762, 139.6503);\n      });\n    }\n  }, [dispatch]); // dispatchが変更された時のみ再実行\n\n  /**\r\n   * 指定された位置情報で投稿をAPIから取得\r\n   * @param lat - 緯度\r\n   * @param lng - 経度\r\n   */\n  const fetchPosts = async (lat, lng) => {\n    try {\n      // APIから投稿を取得（位置情報と半径を指定）\n      const response = await fetch(`/api/posts?lat=${lat}&lng=${lng}&radius=${filter.radius}`);\n      const data = await response.json();\n      // Reduxストアに投稿データを保存\n      dispatch(setPosts(data.posts));\n    } catch (error) {\n      console.error('投稿の取得に失敗しました:', error);\n    }\n  };\n\n  /**\r\n   * ソートメニューを開く\r\n   * @param event - クリックイベント\r\n   */\n  const handleSortClick = event => {\n    setSortAnchorEl(event.currentTarget);\n  };\n\n  /**\r\n   * ソートメニューを閉じる\r\n   */\n  const handleSortClose = () => {\n    setSortAnchorEl(null);\n  };\n\n  /**\r\n   * ソート方法を選択\r\n   * @param sortType - ソートタイプ（'time' | 'distance'）\r\n   */\n  const handleSortSelect = sortType => {\n    // Reduxストアにソート方法を保存\n    dispatch(setSortBy(sortType));\n    handleSortClose();\n  };\n\n  /**\r\n   * フィルターメニューを開く\r\n   * @param event - クリックイベント\r\n   */\n  const handleFilterClick = event => {\n    setFilterAnchorEl(event.currentTarget);\n  };\n\n  /**\r\n   * フィルターメニューを閉じる\r\n   */\n  const handleFilterClose = () => {\n    setFilterAnchorEl(null);\n  };\n\n  /**\r\n   * フィルターカテゴリを選択\r\n   * @param category - 選択されたカテゴリ\r\n   */\n  const handleFilterSelect = category => {\n    // Reduxストアにフィルター設定を保存\n    dispatch(setFilter({\n      category\n    }));\n    handleFilterClose();\n  };\n\n  /**\r\n   * 距離を読みやすい形式にフォーマット\r\n   * @param distance - 距離（km）\r\n   * @returns フォーマットされた距離文字列\r\n   */\n  const formatDistance = distance => {\n    if (distance < 1) {\n      // 1km未満はメートルで表示\n      return `${Math.round(distance * 1000)}m`;\n    }\n    // 1km以上は小数点1桁で表示\n    return `${distance.toFixed(1)}km`;\n  };\n\n  /**\r\n   * タイムスタンプを相対時間にフォーマット\r\n   * @param timestamp - ISO形式のタイムスタンプ\r\n   * @returns 相対時間文字列（例：5分前、2時間前）\r\n   */\n  const formatTime = timestamp => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diff = now.getTime() - date.getTime();\n\n    // ミリ秒を分、時間、日に変換\n    const minutes = Math.floor(diff / 60000);\n    const hours = Math.floor(diff / 3600000);\n    const days = Math.floor(diff / 86400000);\n\n    // 時間に応じて適切な単位で表示\n    if (minutes < 60) {\n      return `${minutes}分前`;\n    } else if (hours < 24) {\n      return `${hours}時間前`;\n    } else {\n      return `${days}日前`;\n    }\n  };\n\n  // ローディング中の表示\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '50vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      p: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        mb: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        children: \"\\u30BF\\u30A4\\u30E0\\u30E9\\u30A4\\u30F3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handleSortClick,\n          children: /*#__PURE__*/_jsxDEV(Sort, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handleFilterClick,\n          children: /*#__PURE__*/_jsxDEV(LocationOn, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      anchorEl: sortAnchorEl,\n      open: Boolean(sortAnchorEl),\n      onClose: handleSortClose,\n      children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n        onClick: () => handleSortSelect('time'),\n        children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n          children: /*#__PURE__*/_jsxDEV(AccessTime, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n          children: \"\\u6642\\u7CFB\\u5217\\u9806\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n        onClick: () => handleSortSelect('distance'),\n        children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n          children: /*#__PURE__*/_jsxDEV(LocationOn, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n          children: \"\\u8DDD\\u96E2\\u9806\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      anchorEl: filterAnchorEl,\n      open: Boolean(filterAnchorEl),\n      onClose: handleFilterClose,\n      children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n        onClick: () => handleFilterSelect(''),\n        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n          children: \"\\u3059\\u3079\\u3066\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n        onClick: () => handleFilterSelect('event'),\n        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n          children: \"\\u30A4\\u30D9\\u30F3\\u30C8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n        onClick: () => handleFilterSelect('food'),\n        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n          children: \"\\u30B0\\u30EB\\u30E1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n        onClick: () => handleFilterSelect('shopping'),\n        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n          children: \"\\u30B7\\u30E7\\u30C3\\u30D4\\u30F3\\u30B0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: 2\n      },\n      children: posts.map(post => /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          cursor: 'pointer'\n        },\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'flex-start',\n              mb: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              color: \"text.secondary\",\n              children: post.userId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n              size: \"small\",\n              children: /*#__PURE__*/_jsxDEV(MoreVert, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            sx: {\n              mb: 2\n            },\n            children: post.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this), post.images && post.images.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: post.images[0],\n              alt: \"\\u6295\\u7A3F\\u753B\\u50CF\",\n              style: {\n                width: '100%',\n                height: 200,\n                objectFit: 'cover',\n                borderRadius: 8\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              gap: 1,\n              mb: 2,\n              flexWrap: 'wrap'\n            },\n            children: post.tags.map(tag => /*#__PURE__*/_jsxDEV(Chip, {\n              label: tag,\n              size: \"small\"\n            }, tag, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                gap: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 0.5\n                },\n                children: [/*#__PURE__*/_jsxDEV(Favorite, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: post.reactions.likes\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 0.5\n                },\n                children: [/*#__PURE__*/_jsxDEV(Comment, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: post.reactions.comments\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: 1\n              },\n              children: [post.distance && /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: formatDistance(post.distance)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: formatTime(post.createdAt)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this)\n      }, post.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Fab, {\n      color: \"primary\",\n      \"aria-label\": \"\\u6295\\u7A3F\",\n      sx: {\n        position: 'fixed',\n        bottom: 80,\n        right: 16\n      },\n      onClick: () => navigate('/post'),\n      children: /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 193,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"DTloPhFYGbOxQI1FbLrsCxCdJss=\", false, function () {\n  return [useDispatch, useNavigate, useSelector, useSelector];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","Box","Card","CardContent","Typography","Chip","IconButton","Menu","MenuItem","ListItemIcon","ListItemText","Fab","CircularProgress","Alert","Sort","LocationOn","AccessTime","Favorite","Comment","MoreVert","Add","useDispatch","useSelector","useNavigate","setPosts","setSortBy","setFilter","setCurrentLocation","jsxDEV","_jsxDEV","Home","_s","sortAnchorEl","setSortAnchorEl","filterAnchorEl","setFilterAnchorEl","dispatch","navigate","posts","isLoading","error","sortBy","filter","state","currentLocation","location","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","fetchPosts","console","lat","lng","response","fetch","radius","data","json","handleSortClick","event","currentTarget","handleSortClose","handleSortSelect","sortType","handleFilterClick","handleFilterClose","handleFilterSelect","category","formatDistance","distance","Math","round","toFixed","formatTime","timestamp","date","Date","now","diff","getTime","minutes","floor","hours","days","sx","display","justifyContent","alignItems","height","children","fileName","_jsxFileName","lineNumber","columnNumber","p","mb","variant","onClick","anchorEl","open","Boolean","onClose","severity","flexDirection","gap","map","post","cursor","color","userId","size","content","images","length","src","alt","style","width","objectFit","borderRadius","flexWrap","tags","tag","label","fontSize","reactions","likes","comments","createdAt","id","bottom","right","_c","$RefreshReg$"],"sources":["C:/Users/PCUSER/VScode-project/CHAP/web/src/pages/Home.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  Chip,\r\n  IconButton,\r\n  Menu,\r\n  MenuItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Fab,\r\n  CircularProgress,\r\n  Alert,\r\n} from '@mui/material';\r\nimport {\r\n  Sort,\r\n  LocationOn,\r\n  AccessTime,\r\n  Favorite,\r\n  Comment,\r\n  MoreVert,\r\n  Add,\r\n} from '@mui/icons-material';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { setPosts, setSortBy, setFilter } from '../store/slices/postsSlice';\r\nimport { setCurrentLocation } from '../store/slices/locationSlice';\r\nimport { RootState } from '../store';\r\n\r\n/**\r\n * ホーム画面（タイムライン）コンポーネント\r\n * 現在地周辺の投稿を表示し、ソート・フィルター機能を提供\r\n */\r\nconst Home: React.FC = () => {\r\n  // ソートメニューのアンカー要素（メニューの表示位置を制御）\r\n  const [sortAnchorEl, setSortAnchorEl] = useState<null | HTMLElement>(null);\r\n  // フィルターメニューのアンカー要素\r\n  const [filterAnchorEl, setFilterAnchorEl] = useState<null | HTMLElement>(null);\r\n  \r\n  // Reduxのディスパッチ関数\r\n  const dispatch = useDispatch();\r\n  // ページ遷移用のナビゲート関数\r\n  const navigate = useNavigate();\r\n  \r\n  // Reduxストアから投稿関連の状態を取得\r\n  const { posts, isLoading, error, sortBy, filter } = useSelector((state: RootState) => state.posts);\r\n  // 現在の位置情報を取得\r\n  const { currentLocation } = useSelector((state: RootState) => state.location);\r\n\r\n  /**\r\n   * コンポーネントマウント時に位置情報を取得し、投稿をフェッチ\r\n   */\r\n  useEffect(() => {\r\n    // ブラウザが位置情報APIをサポートしているかチェック\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        // 位置情報取得成功時のコールバック\r\n        (position) => {\r\n          const { latitude, longitude } = position.coords;\r\n          // Reduxストアに現在位置を保存\r\n          dispatch(setCurrentLocation({ latitude, longitude }));\r\n          // 取得した位置情報で投稿をフェッチ\r\n          fetchPosts(latitude, longitude);\r\n        },\r\n        // 位置情報取得失敗時のコールバック\r\n        (error) => {\r\n          console.error('位置情報の取得に失敗しました:', error);\r\n          // デフォルト位置（東京）で投稿を取得\r\n          fetchPosts(35.6762, 139.6503);\r\n        }\r\n      );\r\n    }\r\n  }, [dispatch]); // dispatchが変更された時のみ再実行\r\n\r\n  /**\r\n   * 指定された位置情報で投稿をAPIから取得\r\n   * @param lat - 緯度\r\n   * @param lng - 経度\r\n   */\r\n  const fetchPosts = async (lat: number, lng: number) => {\r\n    try {\r\n      // APIから投稿を取得（位置情報と半径を指定）\r\n      const response = await fetch(`/api/posts?lat=${lat}&lng=${lng}&radius=${filter.radius}`);\r\n      const data = await response.json();\r\n      // Reduxストアに投稿データを保存\r\n      dispatch(setPosts(data.posts));\r\n    } catch (error) {\r\n      console.error('投稿の取得に失敗しました:', error);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * ソートメニューを開く\r\n   * @param event - クリックイベント\r\n   */\r\n  const handleSortClick = (event: React.MouseEvent<HTMLElement>) => {\r\n    setSortAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  /**\r\n   * ソートメニューを閉じる\r\n   */\r\n  const handleSortClose = () => {\r\n    setSortAnchorEl(null);\r\n  };\r\n\r\n  /**\r\n   * ソート方法を選択\r\n   * @param sortType - ソートタイプ（'time' | 'distance'）\r\n   */\r\n  const handleSortSelect = (sortType: 'time' | 'distance') => {\r\n    // Reduxストアにソート方法を保存\r\n    dispatch(setSortBy(sortType));\r\n    handleSortClose();\r\n  };\r\n\r\n  /**\r\n   * フィルターメニューを開く\r\n   * @param event - クリックイベント\r\n   */\r\n  const handleFilterClick = (event: React.MouseEvent<HTMLElement>) => {\r\n    setFilterAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  /**\r\n   * フィルターメニューを閉じる\r\n   */\r\n  const handleFilterClose = () => {\r\n    setFilterAnchorEl(null);\r\n  };\r\n\r\n  /**\r\n   * フィルターカテゴリを選択\r\n   * @param category - 選択されたカテゴリ\r\n   */\r\n  const handleFilterSelect = (category: string) => {\r\n    // Reduxストアにフィルター設定を保存\r\n    dispatch(setFilter({ category }));\r\n    handleFilterClose();\r\n  };\r\n\r\n  /**\r\n   * 距離を読みやすい形式にフォーマット\r\n   * @param distance - 距離（km）\r\n   * @returns フォーマットされた距離文字列\r\n   */\r\n  const formatDistance = (distance: number) => {\r\n    if (distance < 1) {\r\n      // 1km未満はメートルで表示\r\n      return `${Math.round(distance * 1000)}m`;\r\n    }\r\n    // 1km以上は小数点1桁で表示\r\n    return `${distance.toFixed(1)}km`;\r\n  };\r\n\r\n  /**\r\n   * タイムスタンプを相対時間にフォーマット\r\n   * @param timestamp - ISO形式のタイムスタンプ\r\n   * @returns 相対時間文字列（例：5分前、2時間前）\r\n   */\r\n  const formatTime = (timestamp: string) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diff = now.getTime() - date.getTime();\r\n    \r\n    // ミリ秒を分、時間、日に変換\r\n    const minutes = Math.floor(diff / 60000);\r\n    const hours = Math.floor(diff / 3600000);\r\n    const days = Math.floor(diff / 86400000);\r\n\r\n    // 時間に応じて適切な単位で表示\r\n    if (minutes < 60) {\r\n      return `${minutes}分前`;\r\n    } else if (hours < 24) {\r\n      return `${hours}時間前`;\r\n    } else {\r\n      return `${days}日前`;\r\n    }\r\n  };\r\n\r\n  // ローディング中の表示\r\n  if (isLoading) {\r\n    return (\r\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '50vh' }}>\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ p: 2 }}>\r\n      {/* ヘッダー部分：タイトルとソート・フィルターボタン */}\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n        <Typography variant=\"h6\">タイムライン</Typography>\r\n        <Box>\r\n          {/* ソートボタン */}\r\n          <IconButton onClick={handleSortClick}>\r\n            <Sort />\r\n          </IconButton>\r\n          {/* フィルターボタン */}\r\n          <IconButton onClick={handleFilterClick}>\r\n            <LocationOn />\r\n          </IconButton>\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* ソートメニュー：時系列順・距離順の選択 */}\r\n      <Menu\r\n        anchorEl={sortAnchorEl}\r\n        open={Boolean(sortAnchorEl)}\r\n        onClose={handleSortClose}\r\n      >\r\n        <MenuItem onClick={() => handleSortSelect('time')}>\r\n          <ListItemIcon>\r\n            <AccessTime />\r\n          </ListItemIcon>\r\n          <ListItemText>時系列順</ListItemText>\r\n        </MenuItem>\r\n        <MenuItem onClick={() => handleSortSelect('distance')}>\r\n          <ListItemIcon>\r\n            <LocationOn />\r\n          </ListItemIcon>\r\n          <ListItemText>距離順</ListItemText>\r\n        </MenuItem>\r\n      </Menu>\r\n\r\n      {/* フィルターメニュー：カテゴリ別フィルター */}\r\n      <Menu\r\n        anchorEl={filterAnchorEl}\r\n        open={Boolean(filterAnchorEl)}\r\n        onClose={handleFilterClose}\r\n      >\r\n        <MenuItem onClick={() => handleFilterSelect('')}>\r\n          <ListItemText>すべて</ListItemText>\r\n        </MenuItem>\r\n        <MenuItem onClick={() => handleFilterSelect('event')}>\r\n          <ListItemText>イベント</ListItemText>\r\n        </MenuItem>\r\n        <MenuItem onClick={() => handleFilterSelect('food')}>\r\n          <ListItemText>グルメ</ListItemText>\r\n        </MenuItem>\r\n        <MenuItem onClick={() => handleFilterSelect('shopping')}>\r\n          <ListItemText>ショッピング</ListItemText>\r\n        </MenuItem>\r\n      </Menu>\r\n\r\n      {/* エラー表示：APIエラーなどが発生した場合 */}\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* 投稿一覧：各投稿をカード形式で表示 */}\r\n      <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\r\n        {posts.map((post) => (\r\n          <Card key={post.id} sx={{ cursor: 'pointer' }}>\r\n            <CardContent>\r\n              {/* 投稿ヘッダー：ユーザー名とメニューボタン */}\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', mb: 1 }}>\r\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                  {post.userId}\r\n                </Typography>\r\n                <IconButton size=\"small\">\r\n                  <MoreVert />\r\n                </IconButton>\r\n              </Box>\r\n\r\n              {/* 投稿本文 */}\r\n              <Typography variant=\"body1\" sx={{ mb: 2 }}>\r\n                {post.content}\r\n              </Typography>\r\n\r\n              {/* 投稿画像：画像がある場合のみ表示 */}\r\n              {post.images && post.images.length > 0 && (\r\n                <Box sx={{ mb: 2 }}>\r\n                  <img\r\n                    src={post.images[0]}\r\n                    alt=\"投稿画像\"\r\n                    style={{ width: '100%', height: 200, objectFit: 'cover', borderRadius: 8 }}\r\n                  />\r\n                </Box>\r\n              )}\r\n\r\n              {/* タグ一覧：投稿に関連付けられたタグを表示 */}\r\n              <Box sx={{ display: 'flex', gap: 1, mb: 2, flexWrap: 'wrap' }}>\r\n                {post.tags.map((tag) => (\r\n                  <Chip key={tag} label={tag} size=\"small\" />\r\n                ))}\r\n              </Box>\r\n\r\n              {/* 投稿フッター：リアクション数、距離、投稿時間 */}\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                {/* リアクション情報：いいね数とコメント数 */}\r\n                <Box sx={{ display: 'flex', gap: 2 }}>\r\n                  <Box sx={{ display: 'flex', alignItems: 'center', gap: 0.5 }}>\r\n                    <Favorite fontSize=\"small\" />\r\n                    <Typography variant=\"body2\">{post.reactions.likes}</Typography>\r\n                  </Box>\r\n                  <Box sx={{ display: 'flex', alignItems: 'center', gap: 0.5 }}>\r\n                    <Comment fontSize=\"small\" />\r\n                    <Typography variant=\"body2\">{post.reactions.comments}</Typography>\r\n                  </Box>\r\n                </Box>\r\n                {/* 位置・時間情報：距離と投稿時間 */}\r\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                  {post.distance && (\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      {formatDistance(post.distance)}\r\n                    </Typography>\r\n                  )}\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    {formatTime(post.createdAt)}\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        ))}\r\n      </Box>\r\n\r\n      {/* フローティングアクションボタン：新規投稿画面への遷移 */}\r\n      <Fab\r\n        color=\"primary\"\r\n        aria-label=\"投稿\"\r\n        sx={{ position: 'fixed', bottom: 80, right: 16 }}\r\n        onClick={() => navigate('/post')}\r\n      >\r\n        <Add />\r\n      </Fab>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Home; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}